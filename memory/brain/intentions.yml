# Memoria Prospectiva — intentions.yml
# Intenciones pendientes que boot DEBE leer y evaluar
# Formato: cada intención tiene trigger (cuándo), acción (qué), contexto (por qué)
# Tipos de trigger: temporal (sesión N, fecha X), contextual (si pasa Y), permanente (siempre)

# Estado: pending | in_progress | blocked | done | expired | cancelled
# Prioridad: critical | high | medium | low
# Campos opcionales:
#   last_executed: sesión donde se ejecutó por última vez (para permanentes)
#   blocked_by: qué lo bloquea (para blocked)
#   expires: sesión o fecha tras la cual marcar expired si no se resuelve

intentions:

  - id: INT-001
    created: 2026-02-21
    created_by: "[I] Claude-Opus s15"
    trigger:
      type: contextual
      condition: "Cuando se implemente GAP 4 (compresión jerárquica)"
    action: "Generar primer resumen semanal de episodios como prueba de concepto"
    context: "La compresión jerárquica necesita un caso de prueba real"
    priority: medium
    status: done

  - id: INT-002
    created: 2026-02-21
    created_by: "[I] Claude-Opus s15"
    trigger:
      type: temporal
      condition: "s18 o posterior"
    action: "Extraer métricas reales de las 15+ sesiones: ratios confirmación/corrección, evolución neuromod, distribución de heat, reducción tokens boot"
    context: "DeepSeek R004 y Gemini R003 insisten: sin datos el paper es filosofía, no ciencia"
    priority: high
    status: in_progress
    last_executed: s18

  - id: INT-003
    created: 2026-02-21
    created_by: "[U] el usuario s15"
    trigger:
      type: contextual
      condition: "Cuando Gemini y DeepSeek revisen memory-gaps-analysis.md"
    action: "Integrar feedback en priorización de gaps y ajustar implementación"
    context: "MSG-O015 enviado, pendiente respuesta"
    priority: high
    status: blocked
    blocked_by: "Gemini no ha respondido a MSG-O015. DS ya revisó."
    expires: s22
    note: "Si Gemini no responde para s22, marcar done con solo feedback DS"

  - id: INT-004
    created: 2026-02-21
    created_by: "[I] Claude-Opus s15"
    trigger:
      type: permanent
      condition: "Cada cierre de sesión"
    action: "Revisar intentions.yml y actualizar estados (done/expired)"
    priority: critical
    status: pending
    last_executed: s17

  - id: INT-005
    created: 2026-02-21
    created_by: "[U] el usuario s15"
    trigger:
      type: contextual
      condition: "Si HackerOne responde al comentario sobre setsid/exfiltración"
    action: "Evaluar si apelar con Request Mediation o enviar Vector A a modelbugbounty@anthropic.com"
    context: "Reporte cerrado como Informative. Comentario de apelación publicado 2026-02-21"
    priority: medium
    status: pending

  - id: INT-006
    created: 2026-02-21
    created_by: "[DeepSeek] s16 review"
    trigger:
      type: permanent
      condition: "Cada consolidación de knowledge.md"
    action: "Para cada patrón con confidence < 0.8, crear intención de buscar evidencia confirmatoria o refutatoria en futuras sesiones. Si confidence < 0.6, marcar como hipótesis y priorizar validación."
    context: "GAP 6 propuesto por DeepSeek: bucle de validación de hipótesis. Conecta consolidación (GAP 1) con prospectiva (GAP 2)."
    priority: high
    status: in_progress
    last_executed: s18
    note: "distill.py genera validation-tasks.yml para patrones con confidence < 0.8. Ciclo implementado, pendiente primer run real."

  - id: INT-007
    created: 2026-02-21
    created_by: "[I] Claude-Opus s16 review"
    trigger:
      type: permanent
      condition: "Cada interacción significativa con nodo externo (DeepSeek, Gemini, GPT)"
    action: "Actualizar who-knows-what.yml: reliability scores, last_evidence, añadir dominios nuevos si procede"
    context: "Sin esto, who-knows-what.yml se queda estático y pierde valor"
    priority: high
    status: pending
    last_executed: s18
    note: "DS revisó implementación heartbeat + validation. Actualizar who-knows-what al cierre."
